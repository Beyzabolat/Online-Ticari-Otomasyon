@using mvcOnlineTicariOtomasyon.Models.Classes
@model List<Kategori>
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

@if (TempData["kategoriguncelleme"] != null)
{
    <link href="~/sweetalert2/sweetalert2.css" rel="stylesheet" />
    <script src="~/sweetalert2/sweetalert2.all.js"></script>
    <script src="~/sweetalert2/sweet-alert.init.js"></script>
    <script src="~/Scripts/jquery-3.4.1.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

    <script>
        swal("Başarılı!", "Güncelleme başarıyla gerçekleştirildi", "success");
    </script>
}
@if (TempData["kategoriekleme"] != null)
{
    <link href="~/sweetalert2/sweetalert2.css" rel="stylesheet" />
    <script src="~/sweetalert2/sweetalert2.all.js"></script>
    <script src="~/sweetalert2/sweet-alert.init.js"></script>
    <script src="~/Scripts/jquery-3.4.1.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

    <script>
        swal("Başarılı!", "Kategori başarıyla eklendi", "success");
    </script>
}


<!--@* yeni fonk tanımlanacak, parametresi ktgid olacak , true dönerse *@-->
<!--swal({
            title: "Are you sure?",
            text: "Once deleted, you will not be able to recover this imaginary file!",
            icon: "warning",
            buttons: true,
            dangerMode: true,
        })
            .then((willDelete) => {
                if (willDelete) {

                    swal("Poof! Your imaginary file has been deleted!", {
                        icon: "success",
                    });
                } else {
                    swal("Your imaginary file is safe!");
                }
            });
    </script>
}-->
@*<link href="~/sweetalert2/sweetalert2.css" rel="stylesheet" />
    <script src="~/sweetalert2/sweetalert2.all.js"></script>
    <script src="~/sweetalert2/sweet-alert.init.js"></script>
    <script src="~/Scripts/jquery-3.4.1.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script>
        function archiveFunction() {

        event.preventDefault(); // prevent form submit
        var form = event.target.form; // storing the form
        swal({
            title: "Are you sure?",
            text: "But you will still be able to retrieve this file.",
            type: "warning",
            showCancelButton: true,
            confirmButtonColor: "#DD6B55",
            confirmButtonText: "Yes, archive it!",
            cancelButtonText: "No, cancel please!",
            closeOnConfirm: false,
            closeOnCancel: false
        },
            function (isConfirm) {
                if (isConfirm) {
                    form.submit();          // submitting the form when user press yes
                } else {
                    swal("Cancelled", "Your imaginary file is safe :)", "error");
                }
            });
        }
    </script>*@



@*<script>

        $('#adressil').click(function () {

            swal({
                title: 'Adres Silinecek!',
                text: "Silmek istediğinize emin misiniz?",
                type: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText: 'Evet, sil!',
                cancelButtonText: 'İptal!',
                closeOnConfirm: false
            }).then(function (isConfirm) {
                if (isConfirm) {
                    $.ajax({
                        type: 'post',
                        url: '/Kategori/KategoriSilme/@adresiId=' + id,
                        success: function (data) {
                            if (data) {
                                swal('Silindi!', 'Adres silindi?', 'success');
                                $("#tr" + id).fadeOut($("#tr" + id).remove());
                            }
                            else {
                                swal('Hata Oluştu!', 'İşlem sırasında hata oluştu?', 'warning');
                                return false;
                            }
                        }
                    });

                }
            });
        });


    </script>*@


<script>
/*    $(document).ready(function () {*/
        $('#btn1').click(function () {
            /*    var id = $(this).val();*/
            swal({
                title: "Are you sure?",
                text: "Once deleted, you will not be able to recover this imaginary file!",
                icon: "warning",
                buttons: true,
                dangerMode: true,
            })
            .then((willDelete) => {
                    if (willDelete) {
                        swal("Poof! Your imaginary file has been deleted!", {
                            icon: "success",
                        });
                    } else {
                        swal("Your imaginary file is safe!");
                    }
                });

        });
   /* });*/
</script>

<h1 class="h3 mb-0 text-gray-800">Kategoriler</h1>
<br />
<table id="tbl3" class="table table-striped">
    <thead>
        <tr>
            <th>ID</th>
            <th>Kategori Adı</th>
            <th>Sil</th>
            <th>Güncelle</th>

        </tr>
    </thead>

    @foreach (var b in Model)
    {
        <tr>
            <td>
                @b.KategoriID
            </td>
            <td>
                @b.KategoriAd
            </td>
            <td>
                <div>
                   
                    <button type="button" value="@b.KategoriID" class="btn btn-success" id="btn1">dlete</button>
                  
                </div>

            </td>

            <td><a href="/Kategori/KategoriGetirme/@b.KategoriID" class="btn btn-success">Güncelle</a></td>
        </tr>
    }

</table>
<a href="/Kategori/KategoriEkleme" style="background-color: #4E72DF; color:white" class="btn btn-default ">Kategori Ekle</a>

@*<link href="~/Content/bootstrap.css" rel="stylesheet" />*@
<link href="~/websitesi/css/sb-admin-2.min.css" rel="stylesheet">
@*<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>*@

<link href="~/websitesi/vendor/datatables/dataTables.bootstrap4.min.css" rel="stylesheet">
<!-- Bootstrap core JavaScript-->
<script src="~/websitesi/vendor/jquery/jquery.min.js"></script>
<script src="~/websitesi/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

<!-- Core plugin JavaScript-->
<script src="~/websitesi/vendor/jquery-easing/jquery.easing.min.js"></script>


<!-- Page level plugins -->
<script src="~/websitesi/vendor/datatables/jquery.dataTables.min.js"></script>
<script src="~/websitesi/vendor/datatables/dataTables.bootstrap4.min.js"></script>

<!-- Page level custom scripts -->
<script src="~/websitesi/js/demo/datatables-demo.js"></script>


@*<link href="https://cdn.datatables.net/1.10.15/css/dataTables.bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdn.datatables.net/responsive/2.1.1/css/responsive.bootstrap.min.css" rel="stylesheet" />
    <script src="https://cdn.datatables.net/1.10.15/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.15/js/dataTables.bootstrap4.min.js "></script>*@

<script>

    $('#tbl3').DataTable({

        "language": {

            "url": "//cdn.datatables.net/plug-ins/1.10.12/i18n/Turkish.json"

        } 

    });
   

</script>
